{% extends "base.html" %}
{% block content %}
  <div class="hero">
    <h1>Investment Goals</h1>
    <p>Tell us about your financial goals and risk tolerance to get personalized investment recommendations.</p>
  </div>

  <form method="post" class="card" id="goalsForm">
    <div class="form-group">
      <label for="goal">
        <strong>What's your primary investment goal?</strong>
        <select name="goal" id="goal" required>
          <option value="">Select your goal...</option>
          <option value="build_wealth">Build long-term wealth</option>
          <option value="save_for_college">Save for college education</option>
          <option value="short_term">Short-term financial goals</option>
          <option value="retirement">Plan for retirement</option>
          <option value="emergency_fund">Build emergency fund</option>
        </select>
      </label>
    </div>

    <div class="form-group">
      <label for="risk_slider">
        <strong>What's your risk tolerance?</strong>
        <div class="risk-container">
          <input type="range" min="0" max="2" value="1" name="risk_slider" id="risk_slider"
                 oninput="updateRiskDisplay(this.value)">
          <div class="risk-labels">
            <span class="risk-label">Conservative</span>
            <span class="risk-label">Moderate</span>
            <span class="risk-label">Aggressive</span>
          </div>
          <div class="risk-display">
            <span id="riskOut">Moderate</span>
            <input type="hidden" id="risk" name="risk" value="medium">
          </div>
        </div>
      </label>
    </div>

    <div class="form-group">
      <label for="investment_amount">
        <strong>How much are you planning to invest? (Optional)</strong>
        <input type="text" name="investment_amount" id="investment_amount" 
               placeholder="Enter amount in dollars (e.g., 1,000 or 1000)" 
               min="100" max="10000000" 
               pattern="[0-9,.]*"
               oninput="formatNumberInput(this)">
        <small class="input-hint">Minimum: $100 | Maximum: $10,000,000</small>
      </label>
    </div>

    <div class="form-group">
      <label for="time_horizon">
        <strong>What's your investment timeline?</strong>
        <select name="time_horizon" id="time_horizon">
          <option value="">Select timeline...</option>
          <option value="short">Less than 2 years</option>
          <option value="medium">2-5 years</option>
          <option value="long">5-10 years</option>
          <option value="very_long">More than 10 years</option>
        </select>
      </label>
    </div>

    <details class="form-group">
      <summary><strong>Custom Goal (Advanced)</strong></summary>
      <label for="custom_goal">
        Describe your specific investment goal:
        <textarea name="custom_goal" id="custom_goal" 
                  placeholder="e.g., Save for a house down payment, fund a business, etc." 
                  rows="3"></textarea>
      </label>
    </details>

    <div class="form-actions">
      <button class="btn btn-primary" type="submit" id="submitBtn">
        <span id="btnText">Get Investment Recommendations</span>
        <span id="btnLoading" style="display: none;">Analyzing...</span>
      </button>
    </div>
  </form>

  <div class="card" id="formPreview" style="display: none;">
    <h3>Your Investment Profile</h3>
    <div id="previewContent"></div>
  </div>
{% endblock %}
